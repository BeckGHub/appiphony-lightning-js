<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Single Lookup Demo 1 | Appiphony Lightning JS</title>
    <link rel="stylesheet" type="text/css" href="assets/styles/salesforce-lightning-design-system-vf.css">
</head>

<body>
    <div class="slds">
        <div class="slds-lookup" data-select="single" data-scope="single" data-typeahead="true">
        	Passing in an items list
			<div class="slds-form-element">
				<label class="slds-form-element__label" for="lookup">Stuffs</label>
				<div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--right">
					<svg aria-hidden="true" class="slds-input__icon">
						<use xlink:href="assets/icons/utility-sprite/svg/symbols.svg#search"></use>
					</svg>
					<input id="lookup" class="slds-input" type="text" aria-autocomplete="list" role="combobox" aria-expanded="true" aria-activedescendant="" />
				</div>
			</div>	
		</div>
		<div class="slds-lookup" data-select="single" data-scope="single" data-typeahead="true">
			Passing in functions to get items
			<div class="slds-form-element">
				<label class="slds-form-element__label" for="lookup">Things</label>
				<div class="slds-form-element__control slds-input-has-icon slds-input-has-icon--right">
					<svg aria-hidden="true" class="slds-input__icon">
						<use xlink:href="assets/icons/utility-sprite/svg/symbols.svg#search"></use>
					</svg>
					<input id="lookup2" class="slds-input" type="text" aria-autocomplete="list" role="combobox" aria-expanded="true" aria-activedescendant="" />
				</div>
			</div>	
		</div>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="../src/jquery.aljs-init.js"></script>
    <script src="../src/jquery.aljs-lookup.js"></script>
    <script>
    	$.aljsInit({
            assetsLocation: '.'
        });

    	var results = [
        				{
        					id: 1,
        					label: 'ajaxResult1'
        				},
        				{
        					id: 2,
        					label: 'ajaxResult2'
        				},
        				{
        					id: 3,
        					label: 'ajaxResult3'
        				},
        				{
        					id: 4,
        					label: 'ajaxResult4'
        				},
        				{
        					id: 5,
        					label: 'ajaxResult5'
        				},
        				{
        					id: 6,
        					label: 'ajaxResult6'
        				},
        				{
        					id: 7,
        					label: 'ajaxResult7'
        				},
        				{
        					id: 8,
        					label: 'ajaxResult8'
        				}
        			];
        $(document).ready(function() {
        	$('#lookup').lookup({
        		items: [
        			{
        				id: 1,
        				label: 'Result 1'
        			},
        			{
        				id: 2,
        				label: 'Result 2'
        			},
        			{
        				id: 3,
        				label: 'Result 3'
        			},
        			{
        				id: 4,
        				label: 'Result 4'
        			},
        			{
        				id: 5,
        				label: 'Result 5'
        			},
        			{
        				id: 6,
        				label: 'Result 6'
        			},
        			{
        				id: 7,
        				label: 'Result 7'
        			},
        			{
        				id: 8,
        				label: 'Result 8'
        			}
        		]
        	});

        	$('#lookup2').lookup({
        		objectPluralLabel: 'Things',
        		objectLabel: 'Thing',
        		objectIconUrl: 'assets/icons/standard-sprite/svg/symbols.svg#record',
        		emptySearchTermQuery: function(callback) {
        			callback(results);
        		},
        		filledSearchTermQuery: function(searchTerm, callback) {
        			callback(results.filter(function(result) {
        				return result.label.match(searchTerm) !== null;
        			}));
        		},
        		clickAddFunction: function() {
        			console.log('redirect or do something to add something');
        		}
        	});
            /*$('#pl1').multipicklist({
                onChange: function(obj) {
                    console.log('picklist 1');
                    console.log(obj);
                }
            });*/
        });
    </script>
</body>
