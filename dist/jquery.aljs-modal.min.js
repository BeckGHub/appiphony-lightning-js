if("undefined"==typeof jQuery.aljs)throw new Error("Please include the ALJS initializer file");!function(s){function e(){d=s.aljs.scoped?"string"==typeof s.aljs.scopingClass?s.aljs.scopingClass:".slds":i,s(".slds-backdrop").remove(),s(d).append('<div class="aljs-modal-container"></div>');var e=s(".aljs-modal-container");l.appendTo(e).append('<div class="slds-backdrop"></div>').attr("aria-hidden","true").addClass("slds-hide")}function a(e,a){var o=e.data("aljs-show"),d=s("#"+o);void 0===o?console.error('No "data-aljs-show" attribute has been set'):(d.modal("show",a),e.blur(),n=e)}var o,d,i="body",l=s(".slds-modal"),n=null;s.fn.modal=function(d,t){function r(s){27==s.keyCode&&l.is(":visible")&&c()}function c(){h.$el.modal("dismiss",m).unbind("click"),s(i).unbind("keyup",r),l.unbind("click"),p.unbind("click")}function u(e){a(s(this),d)}var h={};if(h.$el=this,h.hasSelector=!(!d||!d.hasOwnProperty("selector")),null!==d&&"string"==typeof d){var m=s.extend({selector:null,dismissSelector:'[data-aljs-dismiss="modal"]',backdropDismiss:!1,onShow:function(s){},onShown:function(s){},onDismiss:function(s){},onDismissed:function(s){}},t),p=s(m.dismissSelector),f=s(".slds-modal__header, .slds-modal__content, .slds-modal__footer");switch(d){case"show":o=!0,h.id=this.attr("id"),s(".slds-modal").removeClass("slds-fade-in-open slds-show").addClass("slds-hide").attr("aria-hidden","true").attr("tabindex",-1),s(".slds-backdrop").remove(),s(".aljs-modal-container").append('<div class="slds-backdrop"></div>'),s(i).keyup(r),h.$el.addClass("slds-show").removeClass("slds-hide").attr("aria-hidden","false").attr("tabindex",1),p.click(function(s){s.preventDefault(),c()}),m.backdropDismiss&&(l.click(c),f.click(function(s){s.stopPropagation()})),setTimeout(function(){var e=s(".slds-backdrop"),a=function(){h.$el.trigger("shown.aljs.modal"),m.onShown(h),o=!1};e.one("transitionend",a).addClass("slds-backdrop--open"),h.$el.addClass("slds-fade-in-open").trigger("show.aljs.modal"),m.onShow(h)},25);break;case"dismiss":if(!o){var b=s(".slds-backdrop"),v=function(){o||b.remove(),n=null,h.$el.addClass("slds-hide").removeClass("slds-show").trigger("dismissed.aljs.modal"),m.onDismissed(h)};b.one("transitionend",v).removeClass("slds-backdrop--open")}m.onDismiss(h),h.$el.removeClass("slds-fade-in-open").attr("aria-hidden","true").attr("tabindex",-1),null!==n&&n.focus(),h.$el.trigger("dismiss.aljs.modal");break;case"trigger":var k=h.$el.data("aljs-show"),w=s("#"+k);w.modal("show",m);break;default:console.error("The method you entered does not exist")}}else h.hasSelector&&1===this.length?(e(),this.on("click",d.selector,u)):(e(),h.$el.click(function(){a(s(this),d)}));return this}}(jQuery);