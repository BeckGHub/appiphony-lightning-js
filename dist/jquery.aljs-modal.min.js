if("undefined"==typeof jQuery.aljs)throw new Error("Please include the ALJS initializer file");!function(s){function e(){o=s.aljs.scoped?".slds":i,s(".slds-backdrop").remove(),s(o).append('<div class="aljs-modal-container"></div>');var e=s(".aljs-modal-container");l.appendTo(e).append('<div class="slds-backdrop"></div>').attr("aria-hidden","true").addClass("slds-hide")}function d(e,d){var a=e.data("aljs-show"),o=s("#"+a);void 0===a?console.error('No "data-aljs-show" attribute has been set'):(o.modal("show",d),e.blur(),n=e)}var a,o,i="body",l=s(".slds-modal"),n=null;s.fn.modal=function(o,t){function r(s){27==s.keyCode&&l.is(":visible")&&c()}function c(){m.$el.modal("dismiss",h).unbind("click"),s(i).unbind("keyup",r),l.unbind("click"),p.unbind("click")}function u(e){d(s(this),o)}var m={};if(m.$el=this,m.hasSelector=!(!o||!o.hasOwnProperty("selector")),null!==o&&"string"==typeof o){var h=s.extend({selector:null,dismissSelector:'[data-aljs-dismiss="modal"]',backdropDismiss:!1,onShow:function(s){},onShown:function(s){},onDismiss:function(s){},onDismissed:function(s){}},t),p=s(h.dismissSelector),f=s(".slds-modal__header, .slds-modal__content, .slds-modal__footer");switch(o){case"show":a=!0,m.id=this.attr("id"),s(".slds-modal").removeClass("slds-fade-in-open slds-show").addClass("slds-hide").attr("aria-hidden","true").attr("tabindex",-1),s(".slds-backdrop").remove(),s(".aljs-modal-container").append('<div class="slds-backdrop"></div>'),s(i).keyup(r),m.$el.addClass("slds-show").removeClass("slds-hide").attr("aria-hidden","false").attr("tabindex",1),p.click(function(s){s.preventDefault(),c()}),h.backdropDismiss&&(l.click(c),f.click(function(s){s.stopPropagation()})),setTimeout(function(){s(".slds-backdrop").addClass("slds-backdrop--open"),m.$el.addClass("slds-fade-in-open").trigger("show.aljs.modal"),h.onShow(m),setTimeout(function(){m.$el.trigger("shown.aljs.modal"),h.onShown(m),a=!1},400)},25);break;case"dismiss":a||s(".slds-backdrop").removeClass("slds-backdrop--open"),h.onDismiss(m),m.$el.removeClass("slds-fade-in-open").attr("aria-hidden","true").attr("tabindex",-1),null!==n&&n.focus(),m.$el.trigger("dismiss.aljs.modal"),setTimeout(function(){a||s(".slds-backdrop").remove(),n=null,m.$el.addClass("slds-hide").removeClass("slds-show").trigger("dismissed.aljs.modal"),h.onDismissed(m)},200);break;case"trigger":var b=m.$el.data("aljs-show"),k=s("#"+b);k.modal("show",h);break;default:console.error("The method you entered does not exist")}}else m.hasSelector&&1===this.length?(e(),this.on("click",o.selector,u)):(e(),m.$el.click(function(){d(s(this),o)}));return this}}(jQuery);