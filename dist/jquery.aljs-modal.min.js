if("undefined"==typeof jQuery.aljs)throw new Error("Please include the ALJS initializer file");!function(s){function a(){var a=s.aljs.scoped?s(".slds"):o;s(".slds-modal-backdrop").remove(),a.append('<div class="aljs-modal-container"></div>');var e=s(".aljs-modal-container");i.appendTo(e).append('<div class="slds-modal-backdrop"></div>').attr("aria-hidden","true").hide()}function e(a,e){var o=a.data("aljs-show"),i=s("#"+o);void 0===o?console.error('No "data-aljs-show" attribute has been set'):(i.modal("show",e),a.blur(),t=a)}var o=s("body"),i=s(".slds-modal"),t=null;s.fn.modal=function(d,l){function r(s){27==s.keyCode&&i.is(":visible")&&n()}function n(){m.self.modal("dismiss",u).unbind("click"),o.unbind("keyup",r),i.unbind("click"),f.unbind("click")}function c(a){e(s(a.target),d)}var m={};if(m.self=this,m.ariaTarget=s("> *:not(.aljs-modal-container, script, link, meta)",o),m.tabTarget=s('[href], [contentEditable="true"], button, a, input, textarea',m.ariaTarget),m.hasSelector=d&&d.hasOwnProperty("selector")?!0:!1,null!==d&&"string"==typeof d){var u=s.extend({selector:null,dismissSelector:'[data-aljs-dismiss="modal"]',backdropDismiss:!1,onShow:function(s){},onDismiss:function(s){}},l),f=s(u.dismissSelector),h=s(".slds-modal__header, .slds-modal__content, .slds-modal__footer");switch(d){case"show":m.id=this.attr("id"),s(".slds-modal-backdrop").remove(),s(".aljs-modal-container").append('<div class="slds-modal-backdrop"></div>'),o.keyup(r),m.self.removeClass("slds-fade-in-open").attr("aria-hidden","false").show(),f.click(function(s){s.preventDefault(),n()}),u.backdropDismiss&&(i.click(n),h.click(function(s){s.stopPropagation()})),m.ariaTarget.attr("aria-hidden","true"),m.tabTarget.attr("tabindex","-1"),setTimeout(function(){s(".slds-modal-backdrop").addClass("slds-modal-backdrop--open"),m.self.addClass("slds-fade-in-open").trigger("show.aljs.modal"),u.onShow(m),setTimeout(function(){m.self.trigger("shown.aljs.modal")},400)},25);break;case"dismiss":s(".slds-modal-backdrop").removeClass("slds-modal-backdrop--open"),u.onDismiss(m),m.ariaTarget.attr("aria-hidden","false"),m.tabTarget.removeAttr("tabindex"),m.self.removeClass("slds-fade-in-open").attr("aria-hidden","true"),null!==t&&t.focus(),m.self.trigger("dismiss.aljs.modal"),setTimeout(function(){s(".slds-modal-backdrop").remove(),t=null,m.self.hide().trigger("dismissed.aljs.modal")},200);break;case"trigger":var p=m.self.data("aljs-show"),b=s("#"+p);b.modal("show",u);break;default:console.error("The action you entered does not exist")}}else m.hasSelector&&1===this.length?(a(),this.on("click",d.selector,c)):(a(),m.self.click(function(){e(s(this),d)}));return this}}(jQuery);