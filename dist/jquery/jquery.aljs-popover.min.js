if("undefined"==typeof jQuery.aljs)throw new Error("Please include the ALJS initializer file");!function(t){var e=15,o=15,l=function(e){var o=t(e.target).closest('[data-aljs="popover"]'),l=e.data;o.attr("data-aljs-title")||(o.attr("data-aljs-title",o.attr("title")),o.attr("title",""));var a=o.parent().hasClass("slds-button")?' style="line-height: normal;"':"",n=o.attr("data-aljs-id")||"aljs-"+(new Date).valueOf(),p=o.attr("data-aljs-title"),d=o.attr("data-aljs-placement")||"top",f={top:"bottom",bottom:"top",left:"right",right:"left"},h="overflow: visible; display: inline-block; position: absolute;",c=""!=l.modifier?" slds-popover--"+l.modifier:"",u=""!=l.theme?" slds-theme--"+l.theme:"",v='<div id="'+n+'" aria-describedby="'+n+'" class="slds-popover'+c+u+" slds-nubbin--"+(f[d]||"top")+'" style="'+h+'"><div class="slds-popover__body"'+a+">"+p+"</div></div>";if(0===o.next(".slds-popover").length){var g=t(v).appendTo(".slds"),m=g[0].offsetWidth,b=g[0].offsetHeight,w=r(o),j=s(d,w,m,b);i(j,d,m,b,g)}},i=function(t,e,o,l,i){var s=a(e,t,o,l);s.left?t.left+=s.left:t.top+=s.top,i.offset(t)},s=function(t,l,i,s){var r={};switch(t){case"bottom":r={top:l.top+l.height+e,left:l.left+l.width/2-i/2};break;case"top":r={top:l.top-s-e,left:l.left+l.width/2-i/2};break;case"left":r={top:l.top+l.height/2-s/2,left:l.left-i-o};break;default:r={top:l.top+l.height/2-s/2,left:l.left+l.width+o}}return r},r=function(e){e=e||this.$element;var o=e[0],l="BODY"==o.tagName,i=o.getBoundingClientRect();null==i.width&&(i=t.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var s=l?{top:0,left:0}:e.offset(),r={scroll:l?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=l?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},i,r,a,s)},a=function(e,o,l,i){var s={top:0,left:0},a=r(t(".slds"));if(/right|left/.test(e)){var n=o.top-a.scroll,p=o.top-a.scroll+i;n<a.top?s.top=a.top-n:p>a.top+a.height&&(s.top=a.top+a.height-p)}else{var d=o.left,f=o.left+l;d<a.left?s.left=a.left-d:f>a.right&&(s.left=a.left+a.width-f)}return s},n=function(e){var o=t("body").find(".slds-popover");o.length>0&&o.remove()};t.fn.popover=function(e){var o=t.extend({assetsLocation:t.aljs.assetsLocation,modifier:"",theme:""},e);return o.selector&&1===this.length?this.on("mouseenter",o.selector,o,l).on("focusin",o.selector,o,l).on("mouseleave",o.selector,o,n).on("blur",o.selector,o,n).on("touchstart",o.selector,o,function(e){e.stopPropagation();var i="tooltip"==o.modifier?".slds-popover--tooltip":".slds-popover";0==t(i).length?l():n()}):this.each(function(){t(this).on("mouseenter",o,l).on("focusin",o,l).on("mouseleave",o,n).on("blur",o,n).on("touchstart",o,function(e){e.stopPropagation();var i="tooltip"==o.modifier?".slds-popover--tooltip":".slds-popover";0==t(i).length?l():n()})})}}(jQuery);