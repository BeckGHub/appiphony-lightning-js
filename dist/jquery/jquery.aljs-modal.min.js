if("undefined"==typeof jQuery.aljs)throw new Error("Please include the ALJS initializer file");!function(s){function a(){var a=s.aljs.scoped?s(".slds"):d;s(".slds-modal-backdrop").remove(),a.append('<div class="aljs-modal-container"></div>');var e=s(".aljs-modal-container");i.appendTo(e).append('<div class="slds-modal-backdrop"></div>').attr("aria-hidden","true").addClass("slds-hide")}function e(a,e){var o=a.data("aljs-show"),d=s("#"+o);void 0===o?console.error('No "data-aljs-show" attribute has been set'):(d.modal("show",e),a.blur(),l=a)}var o,d=s("body"),i=s(".slds-modal"),l=null;s.fn.modal=function(t,n){function r(s){27==s.keyCode&&i.is(":visible")&&c()}function c(){u.self.modal("dismiss",f).unbind("click"),d.unbind("keyup",r),i.unbind("click"),h.unbind("click")}function m(a){e(s(this),t)}var u={};if(u.self=this,u.ariaTarget=s("> *:not(.aljs-modal-container, script, link, meta)",d),u.tabTarget=s('[href], [contentEditable="true"], button, a, input, textarea',u.ariaTarget),u.hasSelector=t&&t.hasOwnProperty("selector")?!0:!1,null!==t&&"string"==typeof t){var f=s.extend({selector:null,dismissSelector:'[data-aljs-dismiss="modal"]',backdropDismiss:!1,onShow:function(s){},onShown:function(s){},onDismiss:function(s){},onDismissed:function(s){}},n),h=s(f.dismissSelector),p=s(".slds-modal__header, .slds-modal__content, .slds-modal__footer");switch(t){case"show":o=!0,u.id=this.attr("id"),s(".slds-modal").removeClass("slds-fade-in-open").attr("aria-hidden","false"),s(".slds-modal-backdrop").remove(),s(".aljs-modal-container").append('<div class="slds-modal-backdrop"></div>'),d.keyup(r),u.self.addClass("slds-show"),h.click(function(s){s.preventDefault(),c()}),f.backdropDismiss&&(i.click(c),p.click(function(s){s.stopPropagation()})),u.ariaTarget.attr("aria-hidden","true"),u.tabTarget.attr("tabindex","-1"),setTimeout(function(){s(".slds-modal-backdrop").addClass("slds-modal-backdrop--open"),u.self.addClass("slds-fade-in-open").trigger("show.aljs.modal"),f.onShow(u),setTimeout(function(){u.self.trigger("shown.aljs.modal"),f.onShown(u),o=!1},400)},25);break;case"dismiss":o||s(".slds-modal-backdrop").removeClass("slds-modal-backdrop--open"),f.onDismiss(u),u.ariaTarget.attr("aria-hidden","false"),u.tabTarget.removeAttr("tabindex"),u.self.removeClass("slds-fade-in-open").attr("aria-hidden","true"),null!==l&&l.focus(),u.self.trigger("dismiss.aljs.modal"),setTimeout(function(){o||s(".slds-modal-backdrop").remove(),l=null,u.self.addClass("slds-hide").trigger("dismissed.aljs.modal"),f.onDismissed(u)},200);break;case"trigger":var b=u.self.data("aljs-show"),k=s("#"+b);k.modal("show",f);break;default:console.error("The method you entered does not exist")}}else u.hasSelector&&1===this.length?(a(),this.on("click",t.selector,m)):(a(),u.self.click(function(){e(s(this),t)}));return this}}(jQuery);