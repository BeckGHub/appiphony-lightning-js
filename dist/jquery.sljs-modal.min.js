!function(s){s.fn.modal=function(o,d){function e(s){27==s.keyCode&&l.is(":visible")&&a()}function a(){i.modal("dismiss",n).unbind("click"),t.unbind("keyup",e),r.unbind("click")}var l=s(".slds-modal"),i=this;if(l.hide(),null!==o&&"string"==typeof o){var n=s.extend({dismissModalSelector:'[data-dismiss="modal"]',appendBackdropTo:".slds",onShow:function(){},onDismiss:function(){}},d),t=s("body"),r=s(n.dismissModalSelector),c=s(".slds-modal__header, .slds-modal__content, .slds-modal__footer");switch(o){case"show":s(".slds-modal-backdrop").remove(),s(n.appendBackdropTo).append('<div class="slds-modal-backdrop"></div>'),t.keyup(e),i.removeClass("slds-fade-in-open").show(),setTimeout(function(){s(".slds-modal-backdrop").addClass("slds-modal-backdrop--open"),i.addClass("slds-fade-in-open").click(a).trigger("sljs.modalshow"),c.click(function(s){s.stopPropagation()}),n.onShow.call(i)},25),r.click(function(s){s.preventDefault(),a()});break;case"dismiss":s(".slds-modal-backdrop").removeClass("slds-modal-backdrop--open"),i.removeClass("slds-fade-in-open"),n.onDismiss.call(i),setTimeout(function(){s(".slds-modal-backdrop").remove(),i.hide().trigger("sljs.modaldismiss")},400);break;case"trigger":var m=i.data("show"),p=s("#"+m);p.modal("show",n);break;default:console.error("The action you entered does not exist.")}}else s(".slds-modal-backdrop").remove(),i.click(function(d){d.preventDefault();var e=s(this).data("show"),a=s("#"+e);void 0===e?console.error('No "data-show" attribute has been set.'):a.modal("show",o)});return this}}(jQuery);